CREATE TABLE IF NOT EXISTS invites (
  id INT AUTO_INCREMENT PRIMARY KEY,
  member_name VARCHAR(100) NOT NULL,
  invited_count INT NOT NULL DEFAULT 0,
  guest_names TEXT NOT NULL,
  delete_token VARCHAR(64) NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS guests (
  id INT AUTO_INCREMENT PRIMARY KEY,
  invite_id INT NOT NULL,
  guest_name VARCHAR(100) NOT NULL,
  rsvp_status ENUM('PENDING','CONFIRMED','NOT_CONFIRMED') NOT NULL DEFAULT 'PENDING',
  rsvp_token VARCHAR(64) NOT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  INDEX (invite_id)
);
